import{c as x,R as le,E as ge,_ as W,d as fe,a7 as Oe,u as D,I as en,aX as Ee,J as nn,A as tn,B as an,w as Fe,aY as sn,g as on,af as pe,b as qe,aN as se,ag as Se,h as ln,T as Be,v as rn,z as un,Q as we}from"./index-6295fd1d.js";import{w as ee,i as De,H as J,g as I,h as E,o as m,c as $,z as A,p as k,q as z,v as X,u as i,K as cn,b as B,a as O,F as Ue,D as _e,n as b,j as L,e as dn,x as F,P as fn,L as pn,S as R,l as ve,y as Y,k as je,E as gn,Q as He,a1 as Ke,t as ce,A as me,B as he,a6 as mn,d as vn,O as bn,r as Q,f as xe,X as Te,T as ze}from"./runtime-core.esm-bundler-a054f4a5.js";import{e as yn,m as Cn,k as hn}from"./index-c91c3485.js";import{E as Pn,m as We,w as oe,e as kn,p as En,v as de,T as Je,i as Xe,d as ie,r as Ze}from"./index-61f8e38d.js";import{u as ne}from"./index-76d982ae.js";import{E as Ge}from"./index-1f52bcde.js";import{b as $e,E as be}from"./index-5843c3e2.js";import{u as Me,E as Sn,a as Bn}from"./index-ee0e1e3b.js";import{o as Ie,E as wn,m as Tn,n as zn,p as $n}from"./index-3ed31bdd.js";import{i as Mn}from"./index-79c455fb.js";import{c as Ne}from"./index-3df48e54.js";const Qe=Symbol("elPaginationKey"),In=(e,n)=>{let t;ee(()=>e.value,s=>{var a,o;s?(t=document.activeElement,De(n)&&((o=(a=n.value).focus)==null||o.call(a))):t.focus()})},ye="_trap-focus-children",Z=[],Ae=e=>{if(Z.length===0)return;const n=Z[Z.length-1][ye];if(n.length>0&&e.code===Pn.tab){if(n.length===1){e.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const t=e.shiftKey,s=e.target===n[0],a=e.target===n[n.length-1];s&&t&&(e.preventDefault(),n[n.length-1].focus()),a&&!t&&(e.preventDefault(),n[0].focus())}},Nn={beforeMount(e){e[ye]=Ie(e),Z.push(e),Z.length<=1&&document.addEventListener("keydown",Ae)},updated(e){J(()=>{e[ye]=Ie(e)})},unmounted(){Z.shift(),Z.length===0&&document.removeEventListener("keydown",Ae)}},An=x({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:le}}),Ln={click:e=>e instanceof MouseEvent},Rn=["disabled","aria-disabled"],Vn={key:0},On=I({name:"ElPaginationPrev"}),Fn=I({...On,props:An,emits:Ln,setup(e){const n=e,t=E(()=>n.disabled||n.currentPage<=1);return(s,a)=>(m(),$("button",{type:"button",class:"btn-prev",disabled:i(t),"aria-disabled":i(t),onClick:a[0]||(a[0]=o=>s.$emit("click",o))},[s.prevText?(m(),$("span",Vn,A(s.prevText),1)):(m(),k(i(ge),{key:1},{default:z(()=>[(m(),k(X(s.prevIcon)))]),_:1}))],8,Rn))}});var qn=W(Fn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Dn=x({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:le}}),Un=["disabled","aria-disabled"],_n={key:0},jn=I({name:"ElPaginationNext"}),Hn=I({...jn,props:Dn,emits:["click"],setup(e){const n=e,t=E(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(s,a)=>(m(),$("button",{type:"button",class:"btn-next",disabled:i(t),"aria-disabled":i(t),onClick:a[0]||(a[0]=o=>s.$emit("click",o))},[s.nextText?(m(),$("span",_n,A(s.nextText),1)):(m(),k(i(ge),{key:1},{default:z(()=>[(m(),k(X(s.nextIcon)))]),_:1}))],8,Un))}});var Kn=W(Hn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Pe=()=>cn(Qe,{}),xn=x({pageSize:{type:Number,required:!0},pageSizes:{type:fe(Array),default:()=>We([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:Oe}}),Wn=I({name:"ElPaginationSizes"}),Jn=I({...Wn,props:xn,emits:["page-size-change"],setup(e,{emit:n}){const t=e,{t:s}=ne(),a=D("pagination"),o=Pe(),l=B(t.pageSize);ee(()=>t.pageSizes,(p,C)=>{if(!yn(p,C)&&Array.isArray(p)){const u=p.includes(t.pageSize)?t.pageSize:t.pageSizes[0];n("page-size-change",u)}}),ee(()=>t.pageSize,p=>{l.value=p});const v=E(()=>t.pageSizes);function S(p){var C;p!==l.value&&(l.value=p,(C=o.handleSizeChange)==null||C.call(o,Number(p)))}return(p,C)=>(m(),$("span",{class:b(i(a).e("sizes"))},[O(i(hn),{"model-value":l.value,disabled:p.disabled,"popper-class":p.popperClass,size:p.size,"validate-event":!1,onChange:S},{default:z(()=>[(m(!0),$(Ue,null,_e(i(v),u=>(m(),k(i(Cn),{key:u,value:u,label:u+i(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var Xn=W(Jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const Zn=x({size:{type:String,values:Oe}}),Gn=["disabled"],Qn=I({name:"ElPaginationJumper"}),Yn=I({...Qn,props:Zn,setup(e){const{t:n}=ne(),t=D("pagination"),{pageCount:s,disabled:a,currentPage:o,changeEvent:l}=Pe(),v=B(),S=E(()=>{var u;return(u=v.value)!=null?u:o==null?void 0:o.value});function p(u){v.value=+u}function C(u){u=Math.trunc(+u),l==null||l(+u),v.value=void 0}return(u,c)=>(m(),$("span",{class:b(i(t).e("jump")),disabled:i(a)},[L("span",{class:b([i(t).e("goto")])},A(i(n)("el.pagination.goto")),3),O(i(Ge),{size:u.size,class:b([i(t).e("editor"),i(t).is("in-pagination")]),min:1,max:i(s),disabled:i(a),"model-value":i(S),"validate-event":!1,type:"number","onUpdate:modelValue":p,onChange:C},null,8,["size","class","max","disabled","model-value"]),L("span",{class:b([i(t).e("classifier")])},A(i(n)("el.pagination.pageClassifier")),3)],10,Gn))}});var et=W(Yn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const nt=x({total:{type:Number,default:1e3}}),tt=["disabled"],at=I({name:"ElPaginationTotal"}),st=I({...at,props:nt,setup(e){const{t:n}=ne(),t=D("pagination"),{disabled:s}=Pe();return(a,o)=>(m(),$("span",{class:b(i(t).e("total")),disabled:i(s)},A(i(n)("el.pagination.total",{total:a.total})),11,tt))}});var ot=W(st,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const lt=x({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),rt=["onKeyup"],it=["aria-current","tabindex"],ut=["tabindex"],ct=["aria-current","tabindex"],dt=["tabindex"],ft=["aria-current","tabindex"],pt=I({name:"ElPaginationPager"}),gt=I({...pt,props:lt,emits:["change"],setup(e,{emit:n}){const t=e,s=D("pager"),a=D("icon"),o=B(!1),l=B(!1),v=B(!1),S=B(!1),p=B(!1),C=B(!1),u=E(()=>{const f=t.pagerCount,g=(f-1)/2,r=Number(t.currentPage),y=Number(t.pageCount);let T=!1,M=!1;y>f&&(r>f-g&&(T=!0),r<y-g&&(M=!0));const _=[];if(T&&!M){const h=y-(f-2);for(let V=h;V<y;V++)_.push(V)}else if(!T&&M)for(let h=2;h<f;h++)_.push(h);else if(T&&M){const h=Math.floor(f/2)-1;for(let V=r-h;V<=r+h;V++)_.push(V)}else for(let h=2;h<y;h++)_.push(h);return _}),c=E(()=>t.disabled?-1:0);dn(()=>{const f=(t.pagerCount-1)/2;o.value=!1,l.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-f&&(o.value=!0),t.currentPage<t.pageCount-f&&(l.value=!0))});function d(f=!1){t.disabled||(f?v.value=!0:S.value=!0)}function w(f=!1){f?p.value=!0:C.value=!0}function q(f){const g=f.target;if(g.tagName.toLowerCase()==="li"&&Array.from(g.classList).includes("number")){const r=Number(g.textContent);r!==t.currentPage&&n("change",r)}else g.tagName.toLowerCase()==="li"&&Array.from(g.classList).includes("more")&&U(f)}function U(f){const g=f.target;if(g.tagName.toLowerCase()==="ul"||t.disabled)return;let r=Number(g.textContent);const y=t.pageCount,T=t.currentPage,M=t.pagerCount-2;g.className.includes("more")&&(g.className.includes("quickprev")?r=T-M:g.className.includes("quicknext")&&(r=T+M)),Number.isNaN(+r)||(r<1&&(r=1),r>y&&(r=y)),r!==T&&n("change",r)}return(f,g)=>(m(),$("ul",{class:b(i(s).b()),onClick:U,onKeyup:oe(q,["enter"])},[f.pageCount>0?(m(),$("li",{key:0,class:b([[i(s).is("active",f.currentPage===1),i(s).is("disabled",f.disabled)],"number"]),"aria-current":f.currentPage===1,tabindex:i(c)}," 1 ",10,it)):F("v-if",!0),o.value?(m(),$("li",{key:1,class:b(["more","btn-quickprev",i(a).b(),i(s).is("disabled",f.disabled)]),tabindex:i(c),onMouseenter:g[0]||(g[0]=r=>d(!0)),onMouseleave:g[1]||(g[1]=r=>v.value=!1),onFocus:g[2]||(g[2]=r=>w(!0)),onBlur:g[3]||(g[3]=r=>p.value=!1)},[(v.value||p.value)&&!f.disabled?(m(),k(i(en),{key:0})):(m(),k(i(Ee),{key:1}))],42,ut)):F("v-if",!0),(m(!0),$(Ue,null,_e(i(u),r=>(m(),$("li",{key:r,class:b([[i(s).is("active",f.currentPage===r),i(s).is("disabled",f.disabled)],"number"]),"aria-current":f.currentPage===r,tabindex:i(c)},A(r),11,ct))),128)),l.value?(m(),$("li",{key:2,class:b(["more","btn-quicknext",i(a).b(),i(s).is("disabled",f.disabled)]),tabindex:i(c),onMouseenter:g[4]||(g[4]=r=>d()),onMouseleave:g[5]||(g[5]=r=>S.value=!1),onFocus:g[6]||(g[6]=r=>w()),onBlur:g[7]||(g[7]=r=>C.value=!1)},[(S.value||C.value)&&!f.disabled?(m(),k(i(nn),{key:0})):(m(),k(i(Ee),{key:1}))],42,dt)):F("v-if",!0),f.pageCount>1?(m(),$("li",{key:3,class:b([[i(s).is("active",f.currentPage===f.pageCount),i(s).is("disabled",f.disabled)],"number"]),"aria-current":f.currentPage===f.pageCount,tabindex:i(c)},A(f.pageCount),11,ft)):F("v-if",!0)],42,rt))}});var mt=W(gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const N=e=>typeof e!="number",vt=x({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>typeof e=="number"&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:fe(Array),default:()=>We([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:le,default:()=>tn},nextText:{type:String,default:""},nextIcon:{type:le,default:()=>an},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),bt={"update:current-page":e=>typeof e=="number","update:page-size":e=>typeof e=="number","size-change":e=>typeof e=="number","current-change":e=>typeof e=="number","prev-click":e=>typeof e=="number","next-click":e=>typeof e=="number"},Le="ElPagination";var yt=I({name:Le,props:vt,emits:bt,setup(e,{emit:n,slots:t}){const{t:s}=ne(),a=D("pagination"),o=fn().vnode.props||{},l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,v="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,S=E(()=>{if(N(e.total)&&N(e.pageCount)||!N(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(N(e.pageCount)){if(!N(e.total)&&!N(e.pageSize)&&!v)return!1}else if(!v)return!1}return!0}),p=B(N(e.defaultPageSize)?10:e.defaultPageSize),C=B(N(e.defaultCurrentPage)?1:e.defaultCurrentPage),u=E({get(){return N(e.pageSize)?p.value:e.pageSize},set(r){N(e.pageSize)&&(p.value=r),v&&(n("update:page-size",r),n("size-change",r))}}),c=E(()=>{let r=0;return N(e.pageCount)?N(e.total)||(r=Math.max(1,Math.ceil(e.total/u.value))):r=e.pageCount,r}),d=E({get(){return N(e.currentPage)?C.value:e.currentPage},set(r){let y=r;r<1?y=1:r>c.value&&(y=c.value),N(e.currentPage)&&(C.value=y),l&&(n("update:current-page",y),n("current-change",y))}});ee(c,r=>{d.value>r&&(d.value=r)});function w(r){d.value=r}function q(r){u.value=r;const y=c.value;d.value>y&&(d.value=y)}function U(){e.disabled||(d.value-=1,n("prev-click",d.value))}function f(){e.disabled||(d.value+=1,n("next-click",d.value))}function g(r,y){r&&(r.props||(r.props={}),r.props.class=[r.props.class,y].join(" "))}return pn(Qe,{pageCount:c,disabled:E(()=>e.disabled),currentPage:d,changeEvent:w,handleSizeChange:q}),()=>{var r,y;if(!S.value)return kn(Le,s("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&c.value<=1)return null;const T=[],M=[],_=R("div",{class:a.e("rightwrapper")},M),h={prev:R(qn,{disabled:e.disabled,currentPage:d.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:U}),jumper:R(et,{size:e.small?"small":"default"}),pager:R(mt,{currentPage:d.value,pageCount:c.value,pagerCount:e.pagerCount,onChange:w,disabled:e.disabled}),next:R(Kn,{disabled:e.disabled,currentPage:d.value,pageCount:c.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:f}),sizes:R(Xn,{pageSize:u.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(y=(r=t==null?void 0:t.default)==null?void 0:r.call(t))!=null?y:null,total:R(ot,{total:N(e.total)?0:e.total})},V=e.layout.split(",").map(j=>j.trim());let ae=!1;return V.forEach(j=>{if(j==="->"){ae=!0;return}ae?M.push(h[j]):T.push(h[j])}),g(T[0],a.is("first")),g(T[T.length-1],a.is("last")),ae&&M.length>0&&(g(M[0],a.is("first")),g(M[M.length-1],a.is("last")),T.push(_)),R("div",{role:"pagination","aria-label":"pagination",class:[a.b(),a.is("background",e.background),{[a.m("small")]:e.small}]},T)}}});const Qt=Fe(yt),Ct=x({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:$e,default:"primary"},cancelButtonType:{type:String,values:$e,default:"text"},icon:{type:le,default:()=>sn},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},onConfirm:{type:fe(Function)},onCancel:{type:fe(Function)},teleported:Me.teleported,persistent:Me.persistent,width:{type:[String,Number],default:150}}),ht=I({name:"ElPopconfirm"}),Pt=I({...ht,props:Ct,setup(e){const n=e,{t}=ne(),s=D("popconfirm"),a=B(),o=()=>{var u,c;(c=(u=a.value)==null?void 0:u.onClose)==null||c.call(u)},l=E(()=>({width:on(n.width)})),v=u=>{var c;(c=n.onConfirm)==null||c.call(n,u),o()},S=u=>{var c;(c=n.onCancel)==null||c.call(n,u),o()},p=E(()=>n.confirmButtonText||t("el.popconfirm.confirmButtonText")),C=E(()=>n.cancelButtonText||t("el.popconfirm.cancelButtonText"));return(u,c)=>(m(),k(i(Sn),gn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},u.$attrs,{"popper-class":`${i(s).namespace.value}-popover`,"popper-style":i(l),teleported:u.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":u.hideAfter,persistent:u.persistent}),{content:z(()=>[L("div",{class:b(i(s).b())},[L("div",{class:b(i(s).e("main"))},[!u.hideIcon&&u.icon?(m(),k(i(ge),{key:0,class:b(i(s).e("icon")),style:ve({color:u.iconColor})},{default:z(()=>[(m(),k(X(u.icon)))]),_:1},8,["class","style"])):F("v-if",!0),Y(" "+A(u.title),1)],2),L("div",{class:b(i(s).e("action"))},[O(i(be),{size:"small",type:u.cancelButtonType==="text"?"":u.cancelButtonType,text:u.cancelButtonType==="text",onClick:S},{default:z(()=>[Y(A(i(C)),1)]),_:1},8,["type","text"]),O(i(be),{size:"small",type:u.confirmButtonType==="text"?"":u.confirmButtonType,text:u.confirmButtonType==="text",onClick:v},{default:z(()=>[Y(A(i(p)),1)]),_:1},8,["type","text"])],2)],2)]),default:z(()=>[u.$slots.reference?je(u.$slots,"reference",{key:0}):F("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var kt=W(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popconfirm/src/popconfirm.vue"]]);const Yt=Fe(kt);function Et(e){let n;const t=D("loading"),s=B(!1),a=He({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(d){a.text=d}function l(){const d=a.parent;if(!d.vLoadingAddClassList){let w=d.getAttribute("loading-number");w=Number.parseInt(w)-1,w?d.setAttribute("loading-number",w.toString()):(pe(d,t.bm("parent","relative")),d.removeAttribute("loading-number")),pe(d,t.bm("parent","hidden"))}v(),u.unmount()}function v(){var d,w;(w=(d=c.$el)==null?void 0:d.parentNode)==null||w.removeChild(c.$el)}function S(){var d;e.beforeClose&&!e.beforeClose()||(s.value=!0,clearTimeout(n),n=window.setTimeout(p,400),a.visible=!1,(d=e.closed)==null||d.call(e))}function p(){if(!s.value)return;const d=a.parent;s.value=!1,d.vLoadingAddClassList=void 0,l()}const u=En({name:"ElLoading",setup(){return()=>{const d=a.spinner||a.svg,w=R("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...d?{innerHTML:d}:{}},[R("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),q=a.text?R("p",{class:t.b("text")},[a.text]):void 0;return R(Je,{name:t.b("fade"),onAfterLeave:p},{default:z(()=>[ce(O("div",{style:{backgroundColor:a.background||""},class:[t.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[R("div",{class:t.b("spinner")},[w,q])]),[[de,a.visible]])])})}}}),c=u.mount(document.createElement("div"));return{...Ke(a),setText:o,removeElLoadingChild:v,close:S,handleAfterLeave:p,vm:c,get $el(){return c.$el}}}let ue;const St=function(e={}){if(!qe)return;const n=Bt(e);if(n.fullscreen&&ue)return ue;const t=Et({...n,closed:()=>{var a;(a=n.closed)==null||a.call(n),n.fullscreen&&(ue=void 0)}});wt(n,n.parent,t),Re(n,n.parent,t),n.parent.vLoadingAddClassList=()=>Re(n,n.parent,t);let s=n.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",n.parent.setAttribute("loading-number",s),n.parent.appendChild(t.$el),J(()=>t.visible.value=n.visible),n.fullscreen&&(ue=t),t},Bt=e=>{var n,t,s,a;let o;return me(e.target)?o=(n=document.querySelector(e.target))!=null?n:document.body:o=e.target||document.body,{parent:o===document.body||e.body?document.body:o,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:o===document.body&&((t=e.fullscreen)!=null?t:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(a=e.visible)!=null?a:!0,target:o}},wt=async(e,n,t)=>{const{nextZIndex:s}=Xe(),a={};if(e.fullscreen)t.originalPosition.value=se(document.body,"position"),t.originalOverflow.value=se(document.body,"overflow"),a.zIndex=s();else if(e.parent===document.body){t.originalPosition.value=se(document.body,"position"),await J();for(const o of["top","left"]){const l=o==="top"?"scrollTop":"scrollLeft";a[o]=`${e.target.getBoundingClientRect()[o]+document.body[l]+document.documentElement[l]-Number.parseInt(se(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])a[o]=`${e.target.getBoundingClientRect()[o]}px`}else t.originalPosition.value=se(n,"position");for(const[o,l]of Object.entries(a))t.$el.style[o]=l},Re=(e,n,t)=>{const s=D("loading");["absolute","fixed","sticky"].includes(t.originalPosition.value)?pe(n,s.bm("parent","relative")):Se(n,s.bm("parent","relative")),e.fullscreen&&e.lock?Se(n,s.bm("parent","hidden")):pe(n,s.bm("parent","hidden"))},Ce=Symbol("ElLoading"),Ve=(e,n)=>{var t,s,a,o;const l=n.instance,v=c=>he(n.value)?n.value[c]:void 0,S=c=>{const d=me(c)&&(l==null?void 0:l[c])||c;return d&&B(d)},p=c=>S(v(c)||e.getAttribute(`element-loading-${mn(c)}`)),C=(t=v("fullscreen"))!=null?t:n.modifiers.fullscreen,u={text:p("text"),svg:p("svg"),svgViewBox:p("svgViewBox"),spinner:p("spinner"),background:p("background"),customClass:p("customClass"),fullscreen:C,target:(s=v("target"))!=null?s:C?void 0:e,body:(a=v("body"))!=null?a:n.modifiers.body,lock:(o=v("lock"))!=null?o:n.modifiers.lock};e[Ce]={options:u,instance:St(u)}},Tt=(e,n)=>{for(const t of Object.keys(n))De(n[t])&&(n[t].value=e[t])},ea={mounted(e,n){n.value&&Ve(e,n)},updated(e,n){const t=e[Ce];n.oldValue!==n.value&&(n.value&&!n.oldValue?Ve(e,n):n.value&&n.oldValue?he(n.value)&&Tt(n.value,t.options):t==null||t.instance.close())},unmounted(e){var n;(n=e[Ce])==null||n.instance.close()}},zt=I({name:"ElMessageBox",directives:{TrapFocus:Nn},components:{ElButton:be,ElFocusTrap:Bn,ElInput:Ge,ElOverlay:wn,ElIcon:ge,...ln},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Mn},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:n}){const{t}=ne(),s=D("message-box"),a=B(!1),{nextZIndex:o}=Xe(),l=He({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),v=E(()=>{const P=l.type;return{[s.bm("icon",P)]:P&&Be[P]}}),S=Ne(),p=Ne(),C=rn(E(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),u=E(()=>l.icon||Be[l.type]||""),c=E(()=>!!l.message),d=B(),w=B(),q=B(),U=B(),f=B(),g=E(()=>l.confirmButtonClass);ee(()=>l.inputValue,async P=>{await J(),e.boxType==="prompt"&&P!==null&&V()},{immediate:!0}),ee(()=>a.value,P=>{var H,G;P&&(e.boxType!=="prompt"&&(l.autofocus?q.value=(G=(H=f.value)==null?void 0:H.$el)!=null?G:d.value:q.value=d.value),l.zIndex=o()),e.boxType==="prompt"&&(P?J().then(()=>{var ke;U.value&&U.value.$el&&(l.autofocus?q.value=(ke=ae())!=null?ke:d.value:q.value=d.value)}):(l.editorErrorMessage="",l.validateError=!1))});const r=E(()=>e.draggable);Tn(d,w,r),vn(async()=>{await J(),e.closeOnHashChange&&window.addEventListener("hashchange",y)}),bn(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",y)});function y(){!a.value||(a.value=!1,J(()=>{l.action&&n("action",l.action)}))}const T=()=>{e.closeOnClickModal&&h(l.distinguishCancelAndClose?"close":"cancel")},M=$n(T),_=P=>{if(l.inputType!=="textarea")return P.preventDefault(),h("confirm")},h=P=>{var H;e.boxType==="prompt"&&P==="confirm"&&!V()||(l.action=P,l.beforeClose?(H=l.beforeClose)==null||H.call(l,P,l,y):y())},V=()=>{if(e.boxType==="prompt"){const P=l.inputPattern;if(P&&!P.test(l.inputValue||""))return l.editorErrorMessage=l.inputErrorMessage||t("el.messagebox.error"),l.validateError=!0,!1;const H=l.inputValidator;if(typeof H=="function"){const G=H(l.inputValue);if(G===!1)return l.editorErrorMessage=l.inputErrorMessage||t("el.messagebox.error"),l.validateError=!0,!1;if(typeof G=="string")return l.editorErrorMessage=G,l.validateError=!0,!1}}return l.editorErrorMessage="",l.validateError=!1,!0},ae=()=>{const P=U.value.$refs;return P.input||P.textarea},j=()=>{h("close")},Ye=()=>{e.closeOnPressEscape&&j()};return e.lockScroll&&zn(a),In(a),{...Ke(l),ns:s,overlayEvent:M,visible:a,hasMessage:c,typeClass:v,contentId:S,inputId:p,btnSize:C,iconComponent:u,confirmButtonClasses:g,rootRef:d,focusStartRef:q,headerRef:w,inputRef:U,confirmRef:f,doClose:y,handleClose:j,onCloseRequested:Ye,handleWrapperClick:T,handleInputEnter:_,handleAction:h,t}}}),$t=["aria-label","aria-describedby"],Mt=["aria-label"],It=["id"];function Nt(e,n,t,s,a,o){const l=Q("el-icon"),v=Q("close"),S=Q("el-input"),p=Q("el-button"),C=Q("el-focus-trap"),u=Q("el-overlay");return m(),k(Je,{name:"fade-in-linear",onAfterLeave:n[11]||(n[11]=c=>e.$emit("vanish")),persisted:""},{default:z(()=>[ce(O(u,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:z(()=>[L("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:b(`${e.ns.namespace.value}-overlay-message-box`),onClick:n[8]||(n[8]=(...c)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...c)),onMousedown:n[9]||(n[9]=(...c)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...c)),onMouseup:n[10]||(n[10]=(...c)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...c))},[O(C,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:z(()=>[L("div",{ref:"rootRef",class:b([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:ve(e.customStyle),tabindex:"-1",onClick:n[7]||(n[7]=ie(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(m(),$("div",{key:0,ref:"headerRef",class:b(e.ns.e("header"))},[L("div",{class:b(e.ns.e("title"))},[e.iconComponent&&e.center?(m(),k(l,{key:0,class:b([e.ns.e("status"),e.typeClass])},{default:z(()=>[(m(),k(X(e.iconComponent)))]),_:1},8,["class"])):F("v-if",!0),L("span",null,A(e.title),1)],2),e.showClose?(m(),$("button",{key:0,type:"button",class:b(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:n[0]||(n[0]=c=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:n[1]||(n[1]=oe(ie(c=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[O(l,{class:b(e.ns.e("close"))},{default:z(()=>[O(v)]),_:1},8,["class"])],42,Mt)):F("v-if",!0)],2)):F("v-if",!0),L("div",{id:e.contentId,class:b(e.ns.e("content"))},[L("div",{class:b(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(m(),k(l,{key:0,class:b([e.ns.e("status"),e.typeClass])},{default:z(()=>[(m(),k(X(e.iconComponent)))]),_:1},8,["class"])):F("v-if",!0),e.hasMessage?(m(),$("div",{key:1,class:b(e.ns.e("message"))},[je(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(m(),k(X(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(m(),k(X(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:z(()=>[Y(A(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):F("v-if",!0)],2),ce(L("div",{class:b(e.ns.e("input"))},[O(S,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":n[2]||(n[2]=c=>e.inputValue=c),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:b({invalid:e.validateError}),onKeydown:oe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),L("div",{class:b(e.ns.e("errormsg")),style:ve({visibility:e.editorErrorMessage?"visible":"hidden"})},A(e.editorErrorMessage),7)],2),[[de,e.showInput]])],10,It),L("div",{class:b(e.ns.e("btns"))},[e.showCancelButton?(m(),k(p,{key:0,loading:e.cancelButtonLoading,class:b([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:n[3]||(n[3]=c=>e.handleAction("cancel")),onKeydown:n[4]||(n[4]=oe(ie(c=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:z(()=>[Y(A(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):F("v-if",!0),ce(O(p,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:b([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:n[5]||(n[5]=c=>e.handleAction("confirm")),onKeydown:n[6]||(n[6]=oe(ie(c=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:z(()=>[Y(A(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[de,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,$t)]),_:3},8,["z-index","overlay-class","mask"]),[[de,e.visible]])]),_:3})}var At=W(zt,[["render",Nt],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const re=new Map,Lt=e=>{let n=document.body;return e.appendTo&&(me(e.appendTo)&&(n=document.querySelector(e.appendTo)),we(e.appendTo)&&(n=e.appendTo),we(n)||(n=document.body)),n},Rt=(e,n,t=null)=>{const s=O(At,e,ze(e.message)||xe(e.message)?{default:ze(e.message)?e.message:()=>e.message}:null);return s.appContext=t,Ze(s,n),Lt(e).appendChild(n.firstElementChild),s.component},Vt=()=>document.createElement("div"),Ot=(e,n)=>{const t=Vt();e.onVanish=()=>{Ze(null,t),re.delete(a)},e.onAction=o=>{const l=re.get(a);let v;e.showInput?v={value:a.inputValue,action:o}:v=o,e.callback?e.callback(v,s.proxy):o==="cancel"||o==="close"?e.distinguishCancelAndClose&&o!=="cancel"?l.reject("close"):l.reject("cancel"):l.resolve(v)};const s=Rt(e,t,n),a=s.proxy;for(const o in e)Te(e,o)&&!Te(a.$props,o)&&(a[o]=e[o]);return a.visible=!0,a};function te(e,n=null){if(!qe)return Promise.reject();let t;return me(e)||xe(e)?e={message:e}:t=e.callback,new Promise((s,a)=>{const o=Ot(e,n??te._context);re.set(o,{options:e,callback:t,resolve:s,reject:a})})}const Ft=["alert","confirm","prompt"],qt={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Ft.forEach(e=>{te[e]=Dt(e)});function Dt(e){return(n,t,s,a)=>{let o="";return he(t)?(s=t,o=""):un(t)?o="":o=t,te(Object.assign({title:o,message:n,type:"",...qt[e]},s,{boxType:e}),a)}}te.close=()=>{re.forEach((e,n)=>{n.doClose()}),re.clear()};te._context=null;const K=te;K.install=e=>{K._context=e._context,e.config.globalProperties.$msgbox=K,e.config.globalProperties.$messageBox=K,e.config.globalProperties.$alert=K.alert,e.config.globalProperties.$confirm=K.confirm,e.config.globalProperties.$prompt=K.prompt};const na=K;export{Qt as E,St as L,Yt as a,na as b,ea as v};
