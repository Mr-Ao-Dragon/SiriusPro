/* empty css             *//* empty css                *//* empty css                 *//* empty css                     *//* empty css                */import{g as H}from"./request-da1fb2e3.js";import{a as X,b as Z,E as K}from"./index-0efe4750.js";import{E as Q}from"./index-14f7352f.js";import{a as Y,d as k,E as tt}from"./index-3a861cea.js";import{E as et}from"./index-ba2ce393.js";import{E as st}from"./index-da4bed39.js";import{m as ot,d as c,Z as at,o as g,c as F,a as i,C as l,t,H as n,I as it,M as lt,B as L,X as nt,G as ct,bg as rt,bh as dt}from"./plugin-vue_export-helper-ac789cde.js";import{_ as _t}from"./_plugin-vue_export-helper-c27b6911.js";import"./axios-d1decb8a.js";import"./vue-router-5b41d2eb.js";import"./index-40b99311.js";import"./index-326be066.js";import"./index-c5a764ed.js";import"./index-e1439c20.js";const pt="/assets/jiqiren-44abcfbf.png",ht="/assets/chajian1-7f810b04.png",ut="/assets/xiaoxi-c754b8e1.png",mt="/assets/shijian-f63a4626.png",gt="/assets/App-5e29c401.png",o=f=>(rt("data-v-8ae08c17"),f=f(),dt(),f),ft={class:"main"},vt={class:"dataCard",style:{"background-color":"#33CABB"}},xt=o(()=>t("div",{class:"left"},[t("img",{src:pt,alt:"",style:{"margin-left":"30px",width:"50px",height:"50px"}})],-1)),yt={class:"right"},Ct=o(()=>t("div",{class:"title"},"机器人总数",-1)),bt={class:"dataNum"},wt={class:"dataCard",style:{"background-color":"#F96868"}},Ft=o(()=>t("div",{class:"left"},[t("img",{src:ht,alt:"",style:{"margin-left":"30px",width:"50px",height:"50px"}})],-1)),Nt={class:"right"},Et=o(()=>t("div",{class:"title"},"应用数量",-1)),At={class:"dataNum"},It={class:"dataCard",style:{"background-color":"#15C377"}},Bt=o(()=>t("div",{class:"left"},[t("img",{src:ut,alt:"",style:{"margin-left":"30px",width:"50px",height:"50px"}})],-1)),Mt={class:"right"},St=o(()=>t("div",{class:"title"},"消息数量",-1)),Ut={class:"dataNum"},Rt={class:"dataCard",style:{"background-color":"#926DDE"}},Tt=o(()=>t("div",{class:"left"},[t("img",{src:mt,alt:"",style:{"margin-left":"30px",width:"50px",height:"50px"}})],-1)),Dt={class:"right"},Lt=o(()=>t("div",{class:"title"},"运行时间",-1)),Pt={class:"dataNum"},Ot={style:{display:"flex","justify-content":"space-around","flex-wrap":"wrap"}},$t={class:"dataChart"},zt=o(()=>t("div",{id:"botNum",style:{width:"200px",height:"200px"}},null,-1)),Vt={class:"chartTitle"},jt={class:"dataChart"},Jt=o(()=>t("div",{id:"onLineBotNum",style:{width:"200px",height:"200px"}},null,-1)),Wt={class:"chartTitle"},qt={class:"dataChart"},Gt=o(()=>t("div",{id:"CPUOccupancy",style:{width:"200px",height:"200px"}},null,-1)),Ht={class:"chartTitle"},Xt={class:"dataChart"},Zt=o(()=>t("div",{id:"RAMOccupancy",style:{width:"200px",height:"200px"}},null,-1)),Kt={class:"chartTitle"},Qt={class:"dataChart"},Yt=o(()=>t("div",{id:"virtualMemoryUsage",style:{width:"200px",height:"200px"}},null,-1)),kt={class:"chartTitle"},te={class:"bottom"},ee={class:"bLeft"},se=o(()=>t("div",{class:"LTop",style:{"margin-top":"20px",overflow:"hidden"}},[t("div",{style:{"margin-top":"20px","margin-bottom":"10px","margin-left":"20px",color:"#31394D","font-size":"18px","font-weight":"700"}}," 热门APP")],-1)),oe={class:"appItem"},ae=o(()=>t("img",{src:gt,alt:"",style:{width:"40px",height:"40px","border-radius":"20px","margin-left":"20px"}},null,-1)),ie={class:"APPName",style:{"margin-left":"10px","margin-bottom":"3px",color:"#31394D","font-size":"12px","font-weight":"600"}},le={class:"APPIntroduce",style:{"margin-left":"10px",color:"#748AA1","font-size":"12px","font-weight":"600"}},ne={style:{"margin-left":"20px","margin-top":"5px",color:"#748AA1","font-size":"14px"}},ce={style:{float:"right","margin-right":"55px"}},re={class:"bright",style:{width:"100%"}},de={style:{height:"354px",width:"49%"}},_e={style:{height:"354px",width:"49%"}},pe=ot({__name:"home",setup(f){const{proxy:P}=nt(),N=c(""),E=c(""),A=c(""),I=c(""),B=c(),M=c(),x=c(),y=c(),C=c(),d=c(["","","","",""]),S=c([]);let U="";H().then(e=>{U=e.data,z(U)});let r=null,R=location.origin,O=R.indexOf("/")+2;const $=R.slice(O),z=e=>{r=new WebSocket(`ws://${$}/dash-board`),r.onopen=function(a){r.send(`{"event" : 1, "JSESSIONID" : "${e}"}`)},r.onmessage=function(a){let s=JSON.parse(a.data);N.value=s.data.botNum,E.value=s.data.plugInNUm,A.value=s.data.msgNum,I.value=W(s.data.runTime),B.value=Math.floor(s.data.onLineRate),M.value=Math.floor(s.data.messageResponseRate),x.value=Math.floor(s.data.cpuUsage),y.value=Math.floor(s.data.memoryUsage),C.value=Math.floor(s.data.virtualMemoryUsage),d.value=s.data.title,_("botNum",B.value,"在线BOT","%",p(0)),_("onLineBotNum",M.value,"消息回应率","%",p(0)),_("CPUOccupancy",x.value,"cpu占用率","%",p(x.value)),_("RAMOccupancy",y.value,"内存占用率","%",p(y.value)),_("virtualMemoryUsage",C.value,"JVM内存占用率","%",p(C.value)),j(s.extra),S.value=s.extra},r.onclose=function(a){},r.onerror=function(a){}},V=e=>"",_=(e,a,s,h,u)=>{var b=P.$echarts.init(document.getElementById(`${e}`)),m;const w=[{value:a,name:s,title:{offsetCenter:["0%","-30%"]}}];m={series:[{type:"gauge",color:[`${u}`],startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:0,borderColor:"#464646"}},axisLine:{lineStyle:{width:10}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:w,title:{fontSize:14},detail:{width:50,height:0,fontSize:20,color:"inherit",borderRadius:20,borderWidth:0,formatter:`{value}${h}`}}]},m&&b.setOption(m)},j=e=>{if(e.length==0)return;let a=e[0].responseNum;a==0&&(a=1),e.map(s=>{s.fomatResponseNum=s.responseNum/a*100})},J=(e,a)=>e==1?"#FC5B3F":e==2?"#FCA33F":e==3?"#FCDE3F":e>3&&e<=5?"#5FF1E8":e>5&&e<=10?"#C5FC3F":e>10&&e<=15?"#87FC3F":e>15&&e<=20?"#3FFCBF":e>20&&e<=25?"#3FA4FC":e>25&&e<=30?"#3F59FC":"#7E3FFC",W=e=>{const a=parseInt(e/36e5),s=parseInt(e%36e5/6e4),h=Math.floor(e%6e4/1e3);return`${a}时${s}分${h}秒`},p=e=>e<=60?"#48B0F7":e>60&&e<=80?"#FAA64B":"#F96868";return at(()=>{r!=null&&r.close()}),(e,a)=>{const s=X,h=Z,u=st,b=K,m=Q,w=Y,T=et,q=k,G=tt;return g(),F("div",ft,[i(h,{gutter:20,style:{"margin-left":"20px"}},{default:l(()=>[i(s,{span:6},{default:l(()=>[t("div",vt,[xt,t("div",yt,[Ct,t("div",bt,n(N.value),1)])])]),_:1}),i(s,{span:6},{default:l(()=>[t("div",wt,[Ft,t("div",Nt,[Et,t("div",At,n(E.value),1)])])]),_:1}),i(s,{span:6},{default:l(()=>[t("div",It,[Bt,t("div",Mt,[St,t("div",Ut,n(A.value),1)])])]),_:1}),i(s,{span:6},{default:l(()=>[t("div",Rt,[Tt,t("div",Dt,[Lt,t("div",Pt,n(I.value),1)])])]),_:1})]),_:1}),i(u,{class:"box-card",style:{"margin-left":"20px","margin-top":"20px"}},{default:l(()=>[t("div",Ot,[t("div",$t,[zt,t("div",Vt,n(d.value[0]),1)]),t("div",jt,[Jt,t("div",Wt,n(d.value[1]),1)]),t("div",qt,[Gt,t("div",Ht,n(d.value[2]),1)]),t("div",Xt,[Zt,t("div",Kt,n(d.value[3]),1)]),t("div",Qt,[Yt,t("div",kt,n(d.value[4]),1)])])]),_:1}),t("div",te,[i(G,null,{default:l(()=>[i(w,{width:"600px"},{default:l(()=>[t("div",ee,[se,i(m,{height:"300px"},{default:l(()=>[(g(!0),F(it,null,lt(S.value,(v,D)=>(g(),F("div",{key:D,style:{"margin-bottom":"10px"}},[t("div",oe,[ae,t("div",null,[t("div",ie,n(v.basic.appName),1),t("div",le,n(v.basic.appDesc),1)])]),t("div",null,[i(b,{percentage:v.fomatResponseNum,format:V,color:J(D+1,1)},null,8,["percentage","color"])]),t("div",ne,[ct(" 总调用次数："),t("span",ce,n(v.responseNum),1)])]))),128))]),_:1})])]),_:1}),i(q,{style:{padding:"0",margin:"0"}},{default:l(()=>[t("div",re,[t("div",de,[i(u,{class:"box-card",style:{height:"99%"}},{default:l(()=>[(g(),L(T,{key:0,description:"暂无数据"}))]),_:1})]),t("div",_e,[i(u,{class:"box-card",style:{height:"99%"}},{default:l(()=>[(g(),L(T,{key:0,description:"暂无数据"}))]),_:1})])])]),_:1})]),_:1})])])}}});const Ue=_t(pe,[["__scopeId","data-v-8ae08c17"]]);export{Ue as default};
