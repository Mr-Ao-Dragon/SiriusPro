import{c as d,f as i,r as l,e as h,d as c}from"./axios-0cfbca79.js";import{bG as b}from"./index-12833456.js";d({history:i(),routes:l});h();const e=c.create({baseURL:"/api",timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}});e.interceptors.request.use(t=>t,t=>Promise.reject(t));e.interceptors.response.use(t=>{if(t.status==200&&t.data.code==0)return t.data;if(t.data.code==90002)console.log("未登录，无权限使用!"),localStorage.setItem("token","false"),window.location.href="/#/login";else{b({showClose:!0,message:t.data.msg,type:"error"});const a=new Error("接口请求异常...");return Promise.reject(a)}},t=>Promise.reject(t));const B=d({history:i(),routes:l}),r=c.create({baseURL:"/api",timeout:1e4,withCredentials:!0});r.interceptors.request.use(t=>t,t=>Promise.reject(t));r.interceptors.response.use(t=>{if(console.log("响应拦截",t),t.status==200&&t.data.code==0)return t.data;if(t.data.msg=="未登录，无权限使用!")console.log("未登录，无权限使用!"),B.beforeEach((a,n,s)=>{a.name=="login"?s():s("/login")});else{const a=new Error("接口请求异常...");return Promise.reject(a)}},t=>Promise.reject(t));const o={login:"/admin/login",all:"/bot/get-database-all",addBot:"/bot/add",editBot:"/bot/modify",eventBot:"/bot/set-intents",deleteBot:"/bot/del",lookBot:"/bot/get-database-all",loginBot:"/bot/login",logOutBot:"/bot/logout",getHomeData:"/plugin-manage/statistics",AppArr:"/plugin-manage/info-list",sessionId:"/plugin-manage/get-session-id",changePassword:"/admin/change-password",varyEmo:"/text/escape"};localStorage.getItem("token");const p=t=>e({url:`${o.login}`,method:"POST",data:t}),f=t=>e({url:`${o.addBot}`,method:"POST",data:t}),w=t=>e({url:`${o.editBot}`,method:"POST",data:t}),S=t=>r({url:`${o.eventBot}`,method:"POST",data:t}),E=t=>e({url:`${o.deleteBot}`,method:"POST",data:{id:t}}),O=(t,a,n,s,u,g,m)=>e({url:`${o.lookBot}?page=${t}&size=${a}&bot_id=${n}&username=${s}&state=${u}&bot_type=${g}&sand_box=${m}`,method:"GET"}),T=t=>e({url:`${o.loginBot}`,data:{bot_id:t},method:"POST"}),y=t=>e({url:`${o.logOutBot}`,method:"POST",data:{bot_id:t}}),j=()=>e({url:`${o.sessionId}`,method:"GET"}),v=t=>e({url:`${o.changePassword}`,method:"POST",data:t}),I=t=>e({url:`${o.varyEmo}`,method:"POST",data:t});export{f as A,S as E,p as L,T as a,y as b,v as c,w as d,E as e,j as g,O as l,I as v};
